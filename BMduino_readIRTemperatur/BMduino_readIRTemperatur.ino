/*****************************************************************
File:         readTemperature.ino
Description:  
  1. 使用 I2C(100kHz) 通訊方式與 BMH63K203 紅外線溫度感測模組進行資料交換。
  2. 使用硬體序列埠（Serial，鮑率為 9600）將感測到的溫度結果輸出到序列監控視窗。

Note:
  - BMH63K203 為紅外線溫度感測模組，可量測「物體表面溫度」與「環境溫度」。
  - I2C 線路需正確連接：SCL、SDA 分別接到 BMduino 的對應 I2C 腳位。
******************************************************************/

#include <BMH06203.h>   // 引入 BMH06203 感測模組的函式庫，以便呼叫其 API 函式

//------------------- 模組初始化設定區 -------------------
// 下列三行只需保留一行依實際接線設定而定
// BMH06203 mytherm(&Wire);   // 若使用主 I2C 匯流排 (Wire)，請取消註解此行
BMH06203 mytherm(&Wire1);     // 若使用副 I2C 匯流排 (Wire1)，請取消註解此行
// BMH06203 mytherm(&Wire2);  // 若使用第三組 I2C 匯流排 (Wire2)，請取消註解此行
//--------------------------------------------------------

void setup() 
{
  /* ===== 系統初始化階段 ===== */
  mytherm.begin();           // 啟動感測器的初始化程序，使其進入可通訊狀態 (設定 I2C 位址、檢查模組是否存在)
  Serial.begin(9600);        // 初始化序列埠通訊，設定鮑率為 9600 bps，以便與電腦端監控視窗交換資料
}

void loop()
{
  /* ===== 主執行循環區段 ===== */
  // 1. 透過感測器讀取「物體表面溫度 (Object Temperature)」資料
  // 2. 將讀取到的數值透過序列埠印出顯示
  Serial.print("物體溫度為: ");                   // 顯示提示文字
  Serial.print(mytherm.readTemperature(OBJ_TEMP)); // 呼叫函式庫中的 readTemperature() 函式
                                                   // 參數 OBJ_TEMP 代表「物體溫度通道」
                                                   // 函式將回傳攝氏溫度值 (float)
  Serial.println("℃");                            // 顯示單位符號「℃」，並自動換行
  delay(1000);                                     // 每次讀取後暫停 1 秒再重複，避免資料更新過快
}
